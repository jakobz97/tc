{"ast":null,"code":"import axios from\"axios\";import auth_header from\"./auth_header\";export var signup=function signup(signupData){return axios.post('https://gateway.icdcoder.de/admin/',signupData).then(function(response){if(response.data.tokenData.accessToken){localStorage.setItem(\"user\",JSON.stringify(response.data.tokenData));localStorage.setItem(\"userType\",response.data.userType);localStorage.setItem(\"loggedIn\",\"true\");}return response.data;});};export var login=function login(credentials){return axios.post('https://gateway.icdcoder.de/auth/',credentials).then(function(response){if(response.data.tokenData.accessToken){localStorage.setItem(\"user\",JSON.stringify(response.data.tokenData));localStorage.setItem(\"userType\",response.data.userType);localStorage.setItem(\"loggedIn\",\"true\");}return response.data;}).catch(function(e){alert('wrong creds');console.log(e);});};export var logout=function logout(){return axios.post('https://gateway.icdcoder.de/logout/',{},{headers:auth_header()}).then(function(response){localStorage.removeItem(\"user\");localStorage.removeItem(\"userType\");localStorage.setItem(\"loggedIn\",\"false\");return response.data;});};","map":{"version":3,"sources":["/Users/Jakob/Desktop/TUM/Semester_01/inno_entre/tech_challenge/tc/frontend/tc_hospital_frontend/src/services/auth.service.js"],"names":["axios","auth_header","signup","signupData","post","then","response","data","tokenData","accessToken","localStorage","setItem","JSON","stringify","userType","login","credentials","catch","e","alert","console","log","logout","headers","removeItem"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,WAAP,KAAwB,eAAxB,CAEA,MAAO,IAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,CAACC,UAAD,CAAgB,CAClC,MAAOH,CAAAA,KAAK,CACPI,IADE,CACG,oCADH,CACyCD,UADzC,EAEFE,IAFE,CAEG,SAACC,QAAD,CAAc,CAChB,GAAIA,QAAQ,CAACC,IAAT,CAAcC,SAAd,CAAwBC,WAA5B,CAAyC,CACrCC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAA6BC,IAAI,CAACC,SAAL,CAAeP,QAAQ,CAACC,IAAT,CAAcC,SAA7B,CAA7B,EACAE,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAiCL,QAAQ,CAACC,IAAT,CAAcO,QAA/C,EACAJ,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAiC,MAAjC,EACH,CACD,MAAOL,CAAAA,QAAQ,CAACC,IAAhB,CACH,CATE,CAAP,CAUH,CAXM,CAaP,MAAO,IAAMQ,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,CAACC,WAAD,CAAiB,CAClC,MAAOhB,CAAAA,KAAK,CACPI,IADE,CACG,mCADH,CACwCY,WADxC,EAEFX,IAFE,CAEG,SAACC,QAAD,CAAc,CAChB,GAAIA,QAAQ,CAACC,IAAT,CAAcC,SAAd,CAAwBC,WAA5B,CAAyC,CACrCC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAA6BC,IAAI,CAACC,SAAL,CAAeP,QAAQ,CAACC,IAAT,CAAcC,SAA7B,CAA7B,EACAE,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAiCL,QAAQ,CAACC,IAAT,CAAcO,QAA/C,EACAJ,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAiC,MAAjC,EACH,CACD,MAAOL,CAAAA,QAAQ,CAACC,IAAhB,CACH,CATE,EAUFU,KAVE,CAUI,SAACC,CAAD,CAAO,CACVC,KAAK,CAAC,aAAD,CAAL,CACAC,OAAO,CAACC,GAAR,CAAYH,CAAZ,EACH,CAbE,CAAP,CAcH,CAfM,CAiBP,MAAO,IAAMI,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,EAAM,CAC1B,MAAOtB,CAAAA,KAAK,CACPI,IADE,CACG,qCADH,CAC0C,EAD1C,CAC8C,CAAEmB,OAAO,CAAEtB,WAAW,EAAtB,CAD9C,EAEFI,IAFE,CAEG,SAACC,QAAD,CAAc,CAChBI,YAAY,CAACc,UAAb,CAAwB,MAAxB,EACAd,YAAY,CAACc,UAAb,CAAwB,UAAxB,EACAd,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAiC,OAAjC,EACA,MAAOL,CAAAA,QAAQ,CAACC,IAAhB,CACH,CAPE,CAAP,CAQD,CATM","sourcesContent":["import axios from \"axios\";\nimport auth_header from \"./auth_header\";\n\nexport const signup = (signupData) => {\n    return axios\n        .post('https://gateway.icdcoder.de/admin/', signupData)\n        .then((response) => {\n            if (response.data.tokenData.accessToken) {\n                localStorage.setItem(\"user\", JSON.stringify(response.data.tokenData));\n                localStorage.setItem(\"userType\", response.data.userType);\n                localStorage.setItem(\"loggedIn\", \"true\");\n            }\n            return response.data;\n        });\n};\n\nexport const login = (credentials) => {\n    return axios\n        .post('https://gateway.icdcoder.de/auth/', credentials)\n        .then((response) => {\n            if (response.data.tokenData.accessToken) {\n                localStorage.setItem(\"user\", JSON.stringify(response.data.tokenData));\n                localStorage.setItem(\"userType\", response.data.userType);\n                localStorage.setItem(\"loggedIn\", \"true\");\n            }\n            return response.data;\n        })\n        .catch((e) => {\n            alert('wrong creds')\n            console.log(e)\n        })\n};\n\nexport const logout = () => {\n  return axios\n      .post('https://gateway.icdcoder.de/logout/', {}, { headers: auth_header() })\n      .then((response) => {\n          localStorage.removeItem(\"user\");\n          localStorage.removeItem(\"userType\");\n          localStorage.setItem(\"loggedIn\", \"false\");\n          return response.data;\n      });\n};\n"]},"metadata":{},"sourceType":"module"}