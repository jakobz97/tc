{"ast":null,"code":"import _asyncToGenerator from\"/Users/Jakob/Desktop/TUM/Semester_01/inno_entre/tech_challenge/tc/frontend/tc_hospital_frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _regeneratorRuntime from\"/Users/Jakob/Desktop/TUM/Semester_01/inno_entre/tech_challenge/tc/frontend/tc_hospital_frontend/node_modules/@babel/runtime/regenerator/index.js\";import{createAsyncThunk,createSlice}from'@reduxjs/toolkit';import{login,logout,signup}from'../services/auth.service';var initialState={loggedIn:localStorage.getItem(\"loggedIn\")==='true',userType:localStorage.getItem(\"userType\")};export var loginAsync=createAsyncThunk('auth/login',/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(credentials){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return login(credentials);case 2:return _context.abrupt(\"return\",_context.sent);case 3:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}());export var signUpAsync=createAsyncThunk('auth/signup',/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(signupData){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return signup(signupData);case 2:return _context2.abrupt(\"return\",_context2.sent);case 3:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref2.apply(this,arguments);};}());export var logoutAsync=createAsyncThunk('auth/logout',/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return logout();case 2:return _context3.abrupt(\"return\",_context3.sent);case 3:case\"end\":return _context3.stop();}}},_callee3);})));export var authSlice=createSlice({name:'auth',initialState:initialState,reducers:{},extraReducers:function extraReducers(builder){builder.addCase(loginAsync.fulfilled,function(state,action){return{userData:action.payload.userData,loggedIn:true};}).addCase(signUpAsync.fulfilled,function(state,action){console.log('signed up');}).addCase(logoutAsync.fulfilled,function(state,action){console.log('loaded logout');});}});export var selectIsLoggedIn=function selectIsLoggedIn(state){return state.auth.loggedIn;};export var selectUserType=function selectUserType(state){return state.auth.userType;};export default authSlice.reducer;","map":{"version":3,"sources":["/Users/Jakob/Desktop/TUM/Semester_01/inno_entre/tech_challenge/tc/frontend/tc_hospital_frontend/src/slice/authSlice.js"],"names":["createAsyncThunk","createSlice","login","logout","signup","initialState","loggedIn","localStorage","getItem","userType","loginAsync","credentials","signUpAsync","signupData","logoutAsync","authSlice","name","reducers","extraReducers","builder","addCase","fulfilled","state","action","userData","payload","console","log","selectIsLoggedIn","auth","selectUserType","reducer"],"mappings":"6WAAA,OAASA,gBAAT,CAA2BC,WAA3B,KAA8C,kBAA9C,CACA,OAAQC,KAAR,CAAeC,MAAf,CAAuBC,MAAvB,KAAoC,0BAApC,CAEA,GAAMC,CAAAA,YAAY,CAAG,CACjBC,QAAQ,CAAEC,YAAY,CAACC,OAAb,CAAqB,UAArB,IAAqC,MAD9B,CAEjBC,QAAQ,CAAEF,YAAY,CAACC,OAAb,CAAqB,UAArB,CAFO,CAArB,CAKA,MAAO,IAAME,CAAAA,UAAU,CAAGV,gBAAgB,CACtC,YADsC,0FAEtC,iBAAOW,WAAP,wIACiBT,CAAAA,KAAK,CAACS,WAAD,CADtB,6GAFsC,+DAAnC,CAOP,MAAO,IAAMC,CAAAA,WAAW,CAAGZ,gBAAgB,CACvC,aADuC,2FAEvC,kBAAOa,UAAP,6IACiBT,CAAAA,MAAM,CAACS,UAAD,CADvB,iHAFuC,iEAApC,CAOP,MAAO,IAAMC,CAAAA,WAAW,CAAGd,gBAAgB,CACvC,aADuC,sEAEvC,+JACiBG,CAAAA,MAAM,EADvB,iHAFuC,GAApC,CAOP,MAAO,IAAMY,CAAAA,SAAS,CAAGd,WAAW,CAAC,CACjCe,IAAI,CAAE,MAD2B,CAEjCX,YAAY,CAAZA,YAFiC,CAGjCY,QAAQ,CAAE,EAHuB,CAKjCC,aAAa,CAAE,uBAACC,OAAD,CAAa,CACxBA,OAAO,CACFC,OADL,CACaV,UAAU,CAACW,SADxB,CACmC,SAACC,KAAD,CAAQC,MAAR,CAAmB,CAC9C,MAAO,CACHC,QAAQ,CAAED,MAAM,CAACE,OAAP,CAAeD,QADtB,CAEHlB,QAAQ,CAAE,IAFP,CAAP,CAIH,CANL,EAOKc,OAPL,CAOaR,WAAW,CAACS,SAPzB,CAOoC,SAACC,KAAD,CAAQC,MAAR,CAAmB,CAC/CG,OAAO,CAACC,GAAR,CAAY,WAAZ,EACH,CATL,EAUKP,OAVL,CAUaN,WAAW,CAACO,SAVzB,CAUoC,SAACC,KAAD,CAAQC,MAAR,CAAmB,CAC/CG,OAAO,CAACC,GAAR,CAAY,eAAZ,EACH,CAZL,EAaH,CAnBgC,CAAD,CAA7B,CAsBP,MAAO,IAAMC,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,CAACN,KAAD,QAAWA,CAAAA,KAAK,CAACO,IAAN,CAAWvB,QAAtB,EAAzB,CACP,MAAO,IAAMwB,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACR,KAAD,QAAWA,CAAAA,KAAK,CAACO,IAAN,CAAWpB,QAAtB,EAAvB,CAEP,cAAeM,CAAAA,SAAS,CAACgB,OAAzB","sourcesContent":["import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport {login, logout, signup} from '../services/auth.service';\n\nconst initialState = {\n    loggedIn: localStorage.getItem(\"loggedIn\") === 'true',\n    userType: localStorage.getItem(\"userType\"),\n};\n\nexport const loginAsync = createAsyncThunk(\n    'auth/login',\n    async (credentials) => {\n        return await login(credentials);\n    }\n);\n\nexport const signUpAsync = createAsyncThunk(\n    'auth/signup',\n    async (signupData) => {\n        return await signup(signupData);\n    }\n);\n\nexport const logoutAsync = createAsyncThunk(\n    'auth/logout',\n    async () => {\n        return await logout();\n    }\n);\n\nexport const authSlice = createSlice({\n    name: 'auth',\n    initialState,\n    reducers: {\n    },\n    extraReducers: (builder) => {\n        builder\n            .addCase(loginAsync.fulfilled, (state, action) => {\n                return {\n                    userData: action.payload.userData,\n                    loggedIn: true\n                }\n            })\n            .addCase(signUpAsync.fulfilled, (state, action) => {\n                console.log('signed up')\n            })\n            .addCase(logoutAsync.fulfilled, (state, action) => {\n                console.log('loaded logout');\n            });\n    },\n});\n\nexport const selectIsLoggedIn = (state) => state.auth.loggedIn;\nexport const selectUserType = (state) => state.auth.userType;\n\nexport default authSlice.reducer;\n"]},"metadata":{},"sourceType":"module"}