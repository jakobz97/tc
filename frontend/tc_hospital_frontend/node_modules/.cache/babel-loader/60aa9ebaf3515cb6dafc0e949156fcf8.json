{"ast":null,"code":"import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport { codeCompletion, getAnalyticsUploads, //compareCodes,\ngetCreatedUploads, getSuitableUploads, uploadCode, uploadStudentCode } from '../services/review.service';\nconst initialState = {\n  createdUploads: [],\n  suitableUploads: {}\n};\nexport const codeCompletionAsync = createAsyncThunk('review/codeCompletion', async data => {\n  return await codeCompletion(data);\n});\nexport const uploadCodeAsync = createAsyncThunk('review/uploadCode', async data => {\n  const response = await uploadCode(data);\n  return response.data;\n});\nexport const uploadStudentCodeAsync = createAsyncThunk('review/uploadStudentCode', async data => {\n  const response = await uploadStudentCode(data);\n  return response;\n});\nexport const getUploadsAsync = createAsyncThunk('review/getUploads', async () => {\n  return await getCreatedUploads();\n});\nexport const getSuitableUploadsAsync = createAsyncThunk('review/getSuitableUploads', async searchOffset => {\n  const response = await getSuitableUploads(searchOffset);\n  return response;\n});\nexport const getReviewAnalyticsAsync = createAsyncThunk('review/analyseReviews', async reviewIds => {\n  return await getAnalyticsUploads(reviewIds);\n});\nexport const proposeCodeAsync = createAsyncThunk('review/proposeCode', async code => {\n  return await getAnalyticsUploads(code);\n});\nexport const reviewSlice = createSlice({\n  name: 'review',\n  initialState,\n  reducers: {},\n  extraReducers: builder => {\n    builder.addCase(codeCompletionAsync.fulfilled, (state, action) => {//todo add to redux\n    }).addCase(uploadCodeAsync.fulfilled, (state, action) => {//todo add to redux\n    }).addCase(getUploadsAsync.fulfilled, (state, action) => {\n      state.createdUploads = action.payload.codes.sort((a, b) => b.proposalCounter - a.proposalCounter);\n    }).addCase(getSuitableUploadsAsync.fulfilled, (state, action) => {\n      state.suitableUploads = { ...state.suitableUploads,\n        ...action.payload\n      };\n    }).addCase(uploadStudentCodeAsync.fulfilled, (state, action) => {\n      console.log('uploaded student code');\n    }).addCase(getReviewAnalyticsAsync.fulfilled, (state, action) => {\n      console.log('analytics ');\n    });\n    /*.addCase(compareCodesAsync.fulfilled, (state, action) => {\n        console.log('codes were comapred')\n    })*/\n  }\n});\nexport const {} = reviewSlice.actions;\nexport const selectCreatedUploads = state => state.review.createdUploads;\nexport const selectSuitableUploads = state => state.review.suitableUploads;\nexport default reviewSlice.reducer;","map":{"version":3,"sources":["/Users/Jakob/Desktop/TUM/Semester_01/inno_entre/tech_challenge/code/frontend/tc_hospital_frontend/src/slice/reviewSlice.js"],"names":["createAsyncThunk","createSlice","codeCompletion","getAnalyticsUploads","getCreatedUploads","getSuitableUploads","uploadCode","uploadStudentCode","initialState","createdUploads","suitableUploads","codeCompletionAsync","data","uploadCodeAsync","response","uploadStudentCodeAsync","getUploadsAsync","getSuitableUploadsAsync","searchOffset","getReviewAnalyticsAsync","reviewIds","proposeCodeAsync","code","reviewSlice","name","reducers","extraReducers","builder","addCase","fulfilled","state","action","payload","codes","sort","a","b","proposalCounter","console","log","actions","selectCreatedUploads","review","selectSuitableUploads","reducer"],"mappings":"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","sourcesContent":["import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport {\n    codeCompletion,\n    getAnalyticsUploads,\n    //compareCodes,\n    getCreatedUploads,\n    getSuitableUploads,\n    uploadCode, uploadStudentCode\n} from '../services/review.service';\n\nconst initialState = {\n    createdUploads: [],\n    suitableUploads: {}\n};\n\nexport const codeCompletionAsync = createAsyncThunk(\n    'review/codeCompletion',\n    async (data) => {\n        return await codeCompletion(data);\n    }\n);\n\nexport const uploadCodeAsync = createAsyncThunk(\n    'review/uploadCode',\n    async (data) => {\n        const response = await uploadCode(data);\n        return response.data;\n    }\n);\n\nexport const uploadStudentCodeAsync = createAsyncThunk(\n    'review/uploadStudentCode',\n    async (data) => {\n        const response = await uploadStudentCode(data);\n        return response;\n    }\n);\n\nexport const getUploadsAsync = createAsyncThunk(\n    'review/getUploads',\n    async () => {\n        return await getCreatedUploads();\n    }\n);\n\nexport const getSuitableUploadsAsync = createAsyncThunk(\n    'review/getSuitableUploads',\n    async (searchOffset) => {\n        const response = await getSuitableUploads(searchOffset);\n        return response;\n    }\n);\n\nexport const getReviewAnalyticsAsync = createAsyncThunk(\n    'review/analyseReviews',\n    async (reviewIds) => {\n        return await getAnalyticsUploads(reviewIds);\n    }\n);\n\nexport const proposeCodeAsync = createAsyncThunk(\n    'review/proposeCode',\n    async (code) => {\n        return await getAnalyticsUploads(code);\n    }\n);\n\nexport const reviewSlice = createSlice({\n    name: 'review',\n    initialState,\n    reducers: {\n    },\n    extraReducers: (builder) => {\n        builder\n            .addCase(codeCompletionAsync.fulfilled, (state, action) => {\n                //todo add to redux\n            })\n            .addCase(uploadCodeAsync.fulfilled, (state, action) => {\n                //todo add to redux\n            })\n            .addCase(getUploadsAsync.fulfilled, (state, action) => {\n                state.createdUploads = action.payload.codes.sort((a, b) => b.proposalCounter-a.proposalCounter);\n            })\n            .addCase(getSuitableUploadsAsync.fulfilled, (state, action) => {\n                state.suitableUploads = {...state.suitableUploads, ...action.payload}\n            })\n            .addCase(uploadStudentCodeAsync.fulfilled, (state, action) => {\n                console.log('uploaded student code')\n            })\n            .addCase(getReviewAnalyticsAsync.fulfilled, (state, action) => {\n                console.log('analytics ')\n            })\n            /*.addCase(compareCodesAsync.fulfilled, (state, action) => {\n                console.log('codes were comapred')\n            })*/\n    },\n});\n\nexport const {} = reviewSlice.actions;\n\nexport const selectCreatedUploads = (state) => state.review.createdUploads;\nexport const selectSuitableUploads = (state) => state.review.suitableUploads;\n\nexport default reviewSlice.reducer;\n"]},"metadata":{},"sourceType":"module"}