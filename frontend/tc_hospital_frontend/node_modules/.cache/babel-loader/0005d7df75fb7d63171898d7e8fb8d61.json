{"ast":null,"code":"import _slicedToArray from\"/Users/Jakob/Desktop/TUM/Semester_01/inno_entre/tech_challenge/tc/frontend/tc_hospital_frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{Link}from'react-router-dom';import{loginAsync}from\"../../../slice/authSlice\";import{useDispatch,useSelector}from\"react-redux\";import{history}from\"../../../helpers/history\";import'../../../styles/main/general/login/Login.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),forgotPsw=_useState6[0],setForgotPsw=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),loading=_useState8[0],setLoading=_useState8[1];var dispatch=useDispatch();/**\n     * @function (01) prevent the default form behaviour and set to loading\n     *           (02) dispatch the login\n     *           (03) redirect based on user type\n     */var performLogin=function performLogin(e){//01\ne.preventDefault();setLoading(true);//02\ndispatch(loginAsync({email:email,password:password})).then(function(res){//03\nres.payload.userType==='student'?history.push(\"/student/search/\"):res.payload.userType==='coder'?history.push(\"/coder/editor/\"):history.push(\"/admin/invite/\");window.location.reload();}).catch(function(err){setLoading(false);});};/**\n     * @function (01)\n     */var performForgotPsw=function performForgotPsw(e){};//if (isLoggedIn) return <Redirect to=\"/profile\" />;\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"login_wrapper\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"login_section\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"outer_login_wrapper\"}),!forgotPsw?/*#__PURE__*/_jsxs(\"form\",{className:\"login_field_wrapper\",onSubmit:performLogin,children:[/*#__PURE__*/_jsx(\"input\",{name:\"email\",className:\"login_input\",placeholder:\"E-Mail\",type:\"email\",required:true,onChange:function onChange(e){return setEmail(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{name:\"password\",className:\"login_input\",placeholder:\"Password\",type:\"password\",required:true,onChange:function onChange(e){return setPassword(e.target.value);}}),/*#__PURE__*/_jsx(\"button\",{className:\"login_btn\",type:\"submit\",children:loading?/*#__PURE__*/_jsx(\"span\",{children:\"Processing\"}):/*#__PURE__*/_jsx(\"span\",{children:\"Login\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"login_btn forgot_btn\",onClick:function onClick(){setForgotPsw(true);},children:\"Passwort vergessen\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"signup_txt_btn\",children:[\"Noch keinen Account - \",/*#__PURE__*/_jsx(Link,{className:\"signup_txt_link\",to:\"/\",children:\"erstellen Sie noch heute einen\"})]})]}):/*#__PURE__*/_jsxs(\"form\",{className:\"login_field_wrapper\",onSubmit:performForgotPsw,children:[/*#__PURE__*/_jsx(\"input\",{name:\"email\",className:\"login_input\",placeholder:\"E-Mail\",type:\"email\",required:true,onChange:function onChange(e){return setEmail(e.target.value);}}),/*#__PURE__*/_jsx(\"button\",{className:\"login_btn\",type:\"submit\",children:loading?/*#__PURE__*/_jsx(\"span\",{children:\"Processing\"}):/*#__PURE__*/_jsx(\"span\",{children:\"Passwort wiederherstellen\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"login_btn forgot_btn\",onClick:function onClick(){setForgotPsw(false);},children:\"Zur\\xFCck\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"outer_login_wrapper\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"login_legal\",children:[/*#__PURE__*/_jsx(Link,{className:\"signup_txt_link\",to:\"/\",children:\"Impressum\"}),\"  |  \",/*#__PURE__*/_jsx(Link,{className:\"signup_txt_link\",to:\"/\",children:\"Datenschutz\"}),\"  |  \",/*#__PURE__*/_jsx(Link,{className:\"signup_txt_link\",to:\"/\",children:\"AGB\"}),\"  |  \",/*#__PURE__*/_jsx(Link,{className:\"signup_txt_link\",to:\"/\",children:\"Kontakt\"})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"login_section\",children:\"Log In\"})]});};export default Login;","map":{"version":3,"sources":["/Users/Jakob/Desktop/TUM/Semester_01/inno_entre/tech_challenge/tc/frontend/tc_hospital_frontend/src/components/general/login/Login.js"],"names":["React","useState","Link","loginAsync","useDispatch","useSelector","history","Login","email","setEmail","password","setPassword","forgotPsw","setForgotPsw","loading","setLoading","dispatch","performLogin","e","preventDefault","then","res","payload","userType","push","window","location","reload","catch","err","performForgotPsw","target","value"],"mappings":"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","sourcesContent":["import React, {useState} from \"react\";\nimport {Link} from 'react-router-dom';\nimport {loginAsync} from \"../../../slice/authSlice\";\n\nimport { useDispatch, useSelector } from \"react-redux\";\n\nimport { history } from \"../../../helpers/history\";\n\nimport '../../../styles/main/general/login/Login.css';\n\nconst Login = () => {\n\n    const [email, setEmail] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n\n    const [forgotPsw, setForgotPsw] = useState(false);\n    const [loading, setLoading] = useState(false);\n\n    const dispatch = useDispatch();\n\n    /**\n     * @function (01) prevent the default form behaviour and set to loading\n     *           (02) dispatch the login\n     *           (03) redirect based on user type\n     */\n    const performLogin = (e) => {\n        //01\n        e.preventDefault();\n        setLoading(true);\n        //02\n        dispatch(loginAsync({email: email, password: password}))\n            .then((res) => {\n                //03\n                res.payload.userType === 'student' ? history.push(\"/student/search/\") : res.payload.userType === 'coder' ? history.push(\"/coder/editor/\") : history.push(\"/admin/invite/\")\n                window.location.reload();\n            })\n            .catch((err) => {\n                setLoading(false);\n            });\n    };\n\n    /**\n     * @function (01)\n     */\n    const performForgotPsw = (e) => {\n\n    }\n\n    //if (isLoggedIn) return <Redirect to=\"/profile\" />;\n\n    return (\n        <div className=\"login_wrapper\">\n            <div className=\"login_section\">\n                <div className=\"outer_login_wrapper\">\n                    {/*Welcome*/}\n                </div>\n                {!forgotPsw ? (\n                    <form className=\"login_field_wrapper\" onSubmit={performLogin}>\n                        <input name=\"email\" className=\"login_input\" placeholder=\"E-Mail\" type=\"email\" required onChange={(e) => setEmail(e.target.value)}/>\n                        <input name=\"password\" className=\"login_input\" placeholder=\"Password\" type=\"password\" required onChange={(e) => setPassword(e.target.value)}/>\n                        <button className=\"login_btn\" type=\"submit\">\n                            {loading ? (<span>Processing</span>) : (<span>Login</span>)}\n                        </button>\n                        <div className=\"login_btn forgot_btn\" onClick={() => {setForgotPsw(true)}}>Passwort vergessen</div>\n                        <div className=\"signup_txt_btn\">Noch keinen Account - <Link className=\"signup_txt_link\" to={\"/\"}>erstellen Sie noch heute einen</Link></div>\n                    </form>\n                ) : (\n                    <form className=\"login_field_wrapper\" onSubmit={performForgotPsw}>\n                        <input name=\"email\" className=\"login_input\" placeholder=\"E-Mail\" type=\"email\" required onChange={(e) => setEmail(e.target.value)}/>\n                        <button className=\"login_btn\" type=\"submit\">\n                            {loading ? (<span>Processing</span>) : (<span>Passwort wiederherstellen</span>)}\n                        </button>\n                        <div className=\"login_btn forgot_btn\" onClick={() => {setForgotPsw(false)}}>Zur√ºck</div>\n                    </form>\n                )}\n                <div className=\"outer_login_wrapper\">\n                    <div className=\"login_legal\"><Link className=\"signup_txt_link\" to={\"/\"}>Impressum</Link>  |  <Link className=\"signup_txt_link\" to={\"/\"}>Datenschutz</Link>  |  <Link className=\"signup_txt_link\" to={\"/\"}>AGB</Link>  |  <Link className=\"signup_txt_link\" to={\"/\"}>Kontakt</Link></div>\n                </div>\n            </div>\n            <div className=\"login_section\">\n                Log In\n            </div>\n        </div>\n    );\n};\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}