{"ast":null,"code":"import axios from \"axios\";\nimport auth_header from \"./auth_header\";\nexport const signup = signupData => {\n  return axios.post('https://gateway.icdcoder.de/admin/', signupData).then(response => {\n    if (response.data.tokenData.accessToken) {\n      localStorage.setItem(\"user\", JSON.stringify(response.data.tokenData));\n      localStorage.setItem(\"userType\", response.data.userType);\n      localStorage.setItem(\"loggedIn\", \"true\");\n    }\n\n    return response.data;\n  });\n};\nexport const login = credentials => {\n  return axios.post('https://gateway.icdcoder.de/auth/', credentials).then(response => {\n    if (response.data.tokenData.accessToken) {\n      localStorage.setItem(\"user\", JSON.stringify(response.data.tokenData));\n      localStorage.setItem(\"userType\", response.data.userType);\n      localStorage.setItem(\"loggedIn\", \"true\");\n    }\n\n    return response.data;\n  }).catch(e => {\n    alert('wrong creds');\n    console.log(e);\n  });\n};\nexport const logout = () => {\n  return axios.post('https://gateway.icdcoder.de/logout/', {}, {\n    headers: auth_header()\n  }).then(response => {\n    localStorage.removeItem(\"user\");\n    localStorage.removeItem(\"userType\");\n    localStorage.setItem(\"loggedIn\", \"false\");\n    return response.data;\n  });\n};","map":{"version":3,"sources":["/Users/Jakob/Desktop/TUM/Semester_01/inno_entre/tech_challenge/tc/frontend/tc_hospital_frontend/src/services/auth.service.js"],"names":["axios","auth_header","signup","signupData","post","then","response","data","tokenData","accessToken","localStorage","setItem","JSON","stringify","userType","login","credentials","catch","e","alert","console","log","logout","headers","removeItem"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,WAAP,MAAwB,eAAxB;AAEA,OAAO,MAAMC,MAAM,GAAIC,UAAD,IAAgB;AAClC,SAAOH,KAAK,CACPI,IADE,CACG,oCADH,EACyCD,UADzC,EAEFE,IAFE,CAEIC,QAAD,IAAc;AAChB,QAAIA,QAAQ,CAACC,IAAT,CAAcC,SAAd,CAAwBC,WAA5B,EAAyC;AACrCC,MAAAA,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6BC,IAAI,CAACC,SAAL,CAAeP,QAAQ,CAACC,IAAT,CAAcC,SAA7B,CAA7B;AACAE,MAAAA,YAAY,CAACC,OAAb,CAAqB,UAArB,EAAiCL,QAAQ,CAACC,IAAT,CAAcO,QAA/C;AACAJ,MAAAA,YAAY,CAACC,OAAb,CAAqB,UAArB,EAAiC,MAAjC;AACH;;AACD,WAAOL,QAAQ,CAACC,IAAhB;AACH,GATE,CAAP;AAUH,CAXM;AAaP,OAAO,MAAMQ,KAAK,GAAIC,WAAD,IAAiB;AAClC,SAAOhB,KAAK,CACPI,IADE,CACG,mCADH,EACwCY,WADxC,EAEFX,IAFE,CAEIC,QAAD,IAAc;AAChB,QAAIA,QAAQ,CAACC,IAAT,CAAcC,SAAd,CAAwBC,WAA5B,EAAyC;AACrCC,MAAAA,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6BC,IAAI,CAACC,SAAL,CAAeP,QAAQ,CAACC,IAAT,CAAcC,SAA7B,CAA7B;AACAE,MAAAA,YAAY,CAACC,OAAb,CAAqB,UAArB,EAAiCL,QAAQ,CAACC,IAAT,CAAcO,QAA/C;AACAJ,MAAAA,YAAY,CAACC,OAAb,CAAqB,UAArB,EAAiC,MAAjC;AACH;;AACD,WAAOL,QAAQ,CAACC,IAAhB;AACH,GATE,EAUFU,KAVE,CAUKC,CAAD,IAAO;AACVC,IAAAA,KAAK,CAAC,aAAD,CAAL;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYH,CAAZ;AACH,GAbE,CAAP;AAcH,CAfM;AAiBP,OAAO,MAAMI,MAAM,GAAG,MAAM;AAC1B,SAAOtB,KAAK,CACPI,IADE,CACG,qCADH,EAC0C,EAD1C,EAC8C;AAAEmB,IAAAA,OAAO,EAAEtB,WAAW;AAAtB,GAD9C,EAEFI,IAFE,CAEIC,QAAD,IAAc;AAChBI,IAAAA,YAAY,CAACc,UAAb,CAAwB,MAAxB;AACAd,IAAAA,YAAY,CAACc,UAAb,CAAwB,UAAxB;AACAd,IAAAA,YAAY,CAACC,OAAb,CAAqB,UAArB,EAAiC,OAAjC;AACA,WAAOL,QAAQ,CAACC,IAAhB;AACH,GAPE,CAAP;AAQD,CATM","sourcesContent":["import axios from \"axios\";\nimport auth_header from \"./auth_header\";\n\nexport const signup = (signupData) => {\n    return axios\n        .post('https://gateway.icdcoder.de/admin/', signupData)\n        .then((response) => {\n            if (response.data.tokenData.accessToken) {\n                localStorage.setItem(\"user\", JSON.stringify(response.data.tokenData));\n                localStorage.setItem(\"userType\", response.data.userType);\n                localStorage.setItem(\"loggedIn\", \"true\");\n            }\n            return response.data;\n        });\n};\n\nexport const login = (credentials) => {\n    return axios\n        .post('https://gateway.icdcoder.de/auth/', credentials)\n        .then((response) => {\n            if (response.data.tokenData.accessToken) {\n                localStorage.setItem(\"user\", JSON.stringify(response.data.tokenData));\n                localStorage.setItem(\"userType\", response.data.userType);\n                localStorage.setItem(\"loggedIn\", \"true\");\n            }\n            return response.data;\n        })\n        .catch((e) => {\n            alert('wrong creds')\n            console.log(e)\n        })\n};\n\nexport const logout = () => {\n  return axios\n      .post('https://gateway.icdcoder.de/logout/', {}, { headers: auth_header() })\n      .then((response) => {\n          localStorage.removeItem(\"user\");\n          localStorage.removeItem(\"userType\");\n          localStorage.setItem(\"loggedIn\", \"false\");\n          return response.data;\n      });\n};\n"]},"metadata":{},"sourceType":"module"}