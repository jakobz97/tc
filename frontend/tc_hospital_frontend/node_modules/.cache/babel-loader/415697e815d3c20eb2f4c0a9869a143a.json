{"ast":null,"code":"import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport { login, logout, signup } from '../services/auth.service';\nconst initialState = {\n  loggedIn: false,\n  message: \"\",\n  userType: \"customer\" //todo change back again to empty\n\n};\nexport const loginAsync = createAsyncThunk('auth/login', async credentials => {\n  const response = await login(credentials);\n  return response.data;\n});\nexport const signUpAsync = createAsyncThunk('auth/signup', async signupData => {\n  const response = await signup(signupData);\n  return response;\n});\nexport const logoutAsync = createAsyncThunk('auth/logout', async () => {\n  const response = await logout();\n  return response.data;\n});\nexport const authSlice = createSlice({\n  name: 'auth',\n  initialState,\n  reducers: {\n    setLoggedIn: (state, action) => {\n      state.loggedIn = action.payload;\n    },\n    setMessage: (state, action) => {\n      state.message = action.payload;\n    },\n    setUserType: (state, action) => {\n      state.userType = action.payload;\n    }\n  },\n  extraReducers: builder => {\n    builder.addCase(loginAsync.pending, state => {\n      console.log('loading');\n    }).addCase(loginAsync.fulfilled, (state, action) => {\n      console.log('loaded');\n      console.log('loaded', action.payload);\n    }).addCase(signUpAsync.pending, state => {\n      console.log('loading sign up');\n    }).addCase(signUpAsync.fulfilled, (state, action) => {\n      console.log('signed up');\n      console.log('signed up', action.payload);\n    }).addCase(logoutAsync.pending, state => {\n      console.log('loading logout');\n    }).addCase(logoutAsync.fulfilled, (state, action) => {\n      console.log('loaded logout');\n    });\n  }\n});\nexport const {\n  setLoggedIn,\n  setMessage,\n  setUserType\n} = authSlice.actions;\nexport const selectIsLoggedIn = state => state.auth.loggedIn;\nexport const selectMessage = state => state.auth.message;\nexport const selectUserType = state => state.auth.userType;\nexport default authSlice.reducer;","map":{"version":3,"sources":["/Users/Jakob/Documents/Start-up/restaurant/frontend/restaurant_spa/src/slice/authSlice.js"],"names":["createAsyncThunk","createSlice","login","logout","signup","initialState","loggedIn","message","userType","loginAsync","credentials","response","data","signUpAsync","signupData","logoutAsync","authSlice","name","reducers","setLoggedIn","state","action","payload","setMessage","setUserType","extraReducers","builder","addCase","pending","console","log","fulfilled","actions","selectIsLoggedIn","auth","selectMessage","selectUserType","reducer"],"mappings":"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","sourcesContent":["import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport {login, logout, signup} from '../services/auth.service';\n\nconst initialState = {\n    loggedIn: false,\n    message: \"\",\n    userType: \"customer\" //todo change back again to empty\n};\n\nexport const loginAsync = createAsyncThunk(\n    'auth/login',\n    async (credentials) => {\n        const response = await login(credentials);\n        return response.data;\n    }\n);\n\nexport const signUpAsync = createAsyncThunk(\n    'auth/signup',\n    async (signupData) => {\n        const response = await signup(signupData);\n        return response;\n    }\n);\n\nexport const logoutAsync = createAsyncThunk(\n    'auth/logout',\n    async () => {\n        const response = await logout();\n        return response.data;\n    }\n);\n\nexport const authSlice = createSlice({\n    name: 'auth',\n    initialState,\n    reducers: {\n        setLoggedIn: (state, action) => {\n            state.loggedIn = action.payload;\n        },\n        setMessage: (state, action) => {\n            state.message = action.payload;\n        },\n        setUserType: (state, action) => {\n            state.userType = action.payload;\n        }\n    },\n    extraReducers: (builder) => {\n        builder\n            .addCase(loginAsync.pending, (state) => {\n                console.log('loading');\n            })\n            .addCase(loginAsync.fulfilled, (state, action) => {\n                console.log('loaded');\n                console.log('loaded', action.payload)\n            })\n            .addCase(signUpAsync.pending, (state) => {\n                console.log('loading sign up');\n            })\n            .addCase(signUpAsync.fulfilled, (state, action) => {\n                console.log('signed up');\n                console.log('signed up', action.payload)\n            })\n            .addCase(logoutAsync.pending, (state) => {\n                console.log('loading logout');\n            })\n            .addCase(logoutAsync.fulfilled, (state, action) => {\n                console.log('loaded logout');\n            });\n    },\n});\n\nexport const {setLoggedIn, setMessage, setUserType} = authSlice.actions;\n\nexport const selectIsLoggedIn = (state) => state.auth.loggedIn;\nexport const selectMessage = (state) => state.auth.message;\nexport const selectUserType = (state) => state.auth.userType;\n\nexport default authSlice.reducer;\n"]},"metadata":{},"sourceType":"module"}